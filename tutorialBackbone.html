
<!DOCTYPE html>

<html lang="en">
<head>
    <meta charset="utf-8" name="viewport" content="width=device-width" />
    <title>BackboneTutorials.com Beginner Video</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/2.1.1/css/bootstrap.min.css">

</head>
<body>
    <div class="container">
        <h1>User Manager</h1>
        <hr/>
        <div class="page">
        </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/1.8.2/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/underscore.js/1.8.3/underscore-min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/backbone.js/1.3.3/backbone-min.js"></script>
    <script>

    $.ajaxPrefilter(function(options,originalOptions,jqXHR){
        options.url='http://backbonejs-beginner.herokuapp.com'+options.url;
    });

    var Users=Backbone.Collection.extend({
        url:'/users'
    });

    var UserList=Backbone.View.extend({
        el:'.page',
        render:function(){
            var that=this;
            var users = new Users();
            users.fetch({
                success:function(){
            that.$el.html('!CONTENT SHOULD SHOW HERE!');
                }
            })

        }
    });

        var Router = Backbone.Router.extend({
            routes: {
                '': 'home'
            }
        });
        var userList=new UserList();
        var router = new Router();
        router.on('route:home', function () {
            userList.render();
            console.log('We have loaded the home page');
        });

        Backbone.history.start();

    </script>

</body>
</html>
